jQuery.fn.showLoading=function(e,r){var t,s={addClass:"",beforeShow:"",afterShow:"",hPos:"center",vPos:"center",indicatorZIndex:5001,overlayZIndex:5e3,parent:"",marginTop:0,marginLeft:0,overlayWidth:null,overlayHeight:null};jQuery.extend(s,r);var o=jQuery("<div></div>"),i=jQuery("<div></div>");t=s.indicatorID?s.indicatorID:jQuery(this).attr("id"),jQuery(o).attr("id","loading-indicator-"+t),jQuery(o).addClass("loading-indicator"),e===!0&&jQuery(o).addClass("small"),s.addClass&&jQuery(o).addClass(s.addClass),jQuery(i).css("display","none"),jQuery(document.body).append(i),jQuery(i).attr("id","loading-indicator-"+t+"-overlay"),jQuery(i).addClass("loading-indicator-overlay"),s.addClass&&jQuery(i).addClass(s.addClass+"-overlay");var a,n,d=jQuery(this).css("border-top-width"),y=jQuery(this).css("border-left-width");d=isNaN(parseInt(d))?0:d,y=isNaN(parseInt(y))?0:y;var u=jQuery(this).offset().left+parseInt(y),j=jQuery(this).offset().top+parseInt(d);a=null!==s.overlayWidth?s.overlayWidth:parseInt(jQuery(this).width())+parseInt(jQuery(this).css("padding-right"))+parseInt(jQuery(this).css("padding-left")),n=null!==s.overlayHeight?s.overlayWidth:parseInt(jQuery(this).height())+parseInt(jQuery(this).css("padding-top"))+parseInt(jQuery(this).css("padding-bottom")),jQuery(i).css("width",a.toString()+"px"),jQuery(i).css("height",n.toString()+"px"),jQuery(i).css("left",u.toString()+"px"),jQuery(i).css("position","absolute"),jQuery(i).css("top",j.toString()+"px"),jQuery(i).css("z-index",s.overlayZIndex),s.overlayCSS&&jQuery(i).css(s.overlayCSS),jQuery(o).css("display","none"),jQuery(document.body).append(o),jQuery(o).css("position","absolute"),jQuery(o).css("z-index",s.indicatorZIndex);var Q=j;s.marginTop&&(Q+=parseInt(s.marginTop));var p=u;s.marginLeft&&(p+=parseInt(s.marginTop)),"center"==s.hPos.toString().toLowerCase()?jQuery(o).css("left",(p+(jQuery(i).width()-parseInt(jQuery(o).width()))/2).toString()+"px"):"left"==s.hPos.toString().toLowerCase()?jQuery(o).css("left",(p+parseInt(jQuery(i).css("margin-left"))).toString()+"px"):"right"==s.hPos.toString().toLowerCase()?jQuery(o).css("left",(p+(jQuery(i).width()-parseInt(jQuery(o).width()))).toString()+"px"):jQuery(o).css("left",(p+parseInt(s.hPos)).toString()+"px"),"center"==s.vPos.toString().toLowerCase()?jQuery(o).css("top",(Q+(jQuery(i).height()-parseInt(jQuery(o).height()))/2).toString()+"px"):"top"==s.vPos.toString().toLowerCase()?jQuery(o).css("top",Q.toString()+"px"):"bottom"==s.vPos.toString().toLowerCase()?jQuery(o).css("top",(Q+(jQuery(i).height()-parseInt(jQuery(o).height()))).toString()+"px"):jQuery(o).css("top",(Q+parseInt(s.vPos)).toString()+"px"),s.css&&jQuery(o).css(s.css);var h={overlay:i,indicator:o,element:this};return"function"==typeof s.beforeShow&&s.beforeShow(h),jQuery(i).show(),jQuery(o).show(),"function"==typeof s.afterShow&&s.afterShow(h),this},jQuery.fn.hideLoading=function(e){var r={};return jQuery.extend(r,e),indicatorID=r.indicatorID?r.indicatorID:jQuery(this).attr("id"),jQuery(document.body).find("#loading-indicator-"+indicatorID).remove(),jQuery(document.body).find("#loading-indicator-"+indicatorID+"-overlay").remove(),this};
