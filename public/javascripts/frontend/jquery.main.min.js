var initSearchField=function(){};jQuery("document").ready(function(e){initSearchField=function(n,t,a,i){e(n).bind("focus",function(){var n=e(this);n.val().trim()==a?n.val(""):e(t).find(".text-message").remove()}),e(n).bind("blur",function(){var n=e(this);n.val().trim()!=a&&e(t).find(".text-message").remove()}),e(t).bind("submit",function(){var o=e(n);return o.val()==a||0==o.val().trim().length?(0==e(".text-message").length&&e(this).append(i),!1):void e(t).find(".text-message").remove()})},e(document).on("click",".mobile-adspace .close, .infobox .close",function(){var n=e(this);n.parents(".mobile-adspace, .infobox").slideUp("slow",function(){n.remove()})}),e.fn.couponify=function(){var n=e(this).find("a.local");n.fancybox({autoDimensions:!1,overlayOpacity:.6,overlayColor:"#000",transitionIn:"elastic",transitionOut:"elastic",type:"ajax",width:790})},e(".coupon").couponify(),e.fn.socialize=function(n){n||(n={});var t=e(this).find("a"),a=n.loading||"";t.bind("click",function(){var n=e(this);return a.length>0&&a.showLoading(!0),e.ajax({type:"GET",cache:!0,url:n.attr("href"),success:function(e,n,t){var a=t.getResponseHeader("content-type")||"";a.indexOf("html")>-1||a.indexOf("json")>-1},error:function(){},complete:function(e,n){a.length>0&&a.hideLoading(),"error"===n||!e.responseText}}),!1})},e.fn.ajaxifyForm=function(){var n=e(this),t=n.find("input[type=file]");if(!window.FormData)return!1;n.find("#progress").show();var a=function(n){e("#progress .bar.inner").css("width",n+"%"),e("#progress .value").html(Math.round(n)+"%")};t.change(function(){e.each(e(this)[0].files,function(n,t){if(window.FileReader){a(0);var i=e("#image-to-upload"),o=new FileReader;t.type.match(/image.*/)?(o.onloadend=function(e){i.find("img").attr("src",e.target.result)},o.readAsDataURL(t),i.slideDown()):alert("Fehler: Die gewÃ¤hlte Datei ist kein Bild.")}})});var i=null;n.submit(function(){i&&i.abort();var n=e(this),t=n.serializeArray(),o=n.parent();o.parents("#fancybox-content").length>0&&(o=e("#fancybox-content"));var r={type:"POST",url:n.attr("action"),data:t,beforeSend:function(){e("#fancybox-close").hide(),o.showLoading()},complete:function(){e("#fancybox-close").show(),o.hideLoading()}};if("multipart/form-data"==n.attr("enctype")){t=new FormData,n.find("input").each(function(n,a){var i=e(a);"file"==i.attr("type")?e.each(i[0].files,function(e,n){t.append(i.attr("name"),n)}):"checkbox"==i.attr("type")||"radio"==i.attr("type")?"checked"==i.attr("checked")&&t.append(i.attr("name"),i.val()):"submit"!=i.attr("type")&&t.append(i.attr("name"),i.val())});var s=function(e){var n=Math.round(1e4*e.loaded/e.total)/100;a(n)};r.xhr=function(){var n=e.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(e){s(e)},!1),n},r.processData=!1,r.contentType=!1,r.data=t}return i=e.ajax(r),!1})},e(".show-details a").click(function(){var n=function(n){e.each(["xs","sm","md","lg"],function(e,t){n.hasClass("hidden-"+t)?(n.removeClass("hidden-"+t),n.addClass("visible-"+t)):n.hasClass("visible-"+t)&&(n.removeClass("visible-"+t),n.addClass("hidden-"+t))})},t=e(this).parent();t.find("a").toggleClass("hidden"),n(t.siblings())})});
