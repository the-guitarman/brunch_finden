!function(e){"use strict";function t(e,t){var i=decodeURIComponent(e);if(i.length<=t)return e;var s=i.substring(0,t-1).lastIndexOf(" ");return i=encodeURIComponent(i.substring(0,s))+"â€¦"}function i(t){var i=e('meta[name="'+t+'"]').attr("content");return i||""}function s(){var t=i("DC.title"),s=i("DC.creator");return t.length>0&&s.length>0?t+=" - "+s:t=e("title").text(),encodeURIComponent(t)}function n(){var t=document.location.href,i=e("link[rel=canonical]").attr("href");return i&&i.length>0&&(i.indexOf("http")<0&&(i=document.location.protocol+"//"+document.location.host+i),t=i),t}function a(e,t,i,s,n){var a=new Date;a.setTime(a.getTime()+24*i*60*60*1e3),document.cookie=e+"="+t+"; expires="+a.toUTCString()+"; path="+s+"; domain="+n}function o(e,t,i,s){var n=new Date;n.setTime(n.getTime()-100),document.cookie=e+"="+t+"; expires="+n.toUTCString()+"; path="+i+"; domain="+s}e.fn.socialSharePrivacy=function(i){var r={services:{facebook:{status:"on",dummy_img:"/images/frontend/socialshareprivacy/dummy_facebook.png",txt_info:"2 Klicks f&uuml;r mehr Datenschutz: Erst wenn Sie hier klicken, wird der Button aktiv und Sie k&ouml;nnen Ihre Empfehlung an Facebook senden. Schon beim Aktivieren werden Daten an Dritte &uuml;bertragen &ndash; siehe <em>i</em>.",txt_fb_off:"nicht mit Facebook verbunden",txt_fb_on:"mit Facebook verbunden",perma_option:"on",display_name:"Facebook",referrer_track:"",language:"de_DE",action:"recommend"},twitter:{status:"on",dummy_img:"/images/frontend/socialshareprivacy/dummy_twitter.png",txt_info:"2 Klicks f&uuml;r mehr Datenschutz: Erst wenn Sie hier klicken, wird der Button aktiv und Sie k&ouml;nnen Ihre Empfehlung an Twitter senden. Schon beim Aktivieren werden Daten an Dritte &uuml;bertragen &ndash; siehe <em>i</em>.",txt_twitter_off:"nicht mit Twitter verbunden",txt_twitter_on:"mit Twitter verbunden",perma_option:"on",display_name:"Twitter",referrer_track:"",tweet_text:s,language:"en"},gplus:{status:"on",dummy_img:"/images/frontend/socialshareprivacy/dummy_gplus.png",txt_info:"2 Klicks f&uuml;r mehr Datenschutz: Erst wenn Sie hier klicken, wird der Button aktiv und Sie k&ouml;nnen Ihre Empfehlung an Google+ senden. Schon beim Aktivieren werden Daten an Dritte &uuml;bertragen &ndash; siehe <em>i</em>.",txt_gplus_off:"nicht mit Google+ verbunden",txt_gplus_on:"mit Google+ verbunden",perma_option:"on",display_name:"Google+",referrer_track:"",language:"de"}},info_link:"http://www.heise.de/ct/artikel/2-Klicks-fuer-mehr-Datenschutz-1333879.html",txt_help:"Wenn Sie diese Felder durch einen Klick aktivieren, werden Informationen an Facebook, Twitter oder Google in die USA &uuml;bertragen und unter Umst&auml;nden auch dort gespeichert. N&auml;heres erfahren Sie durch einen Klick auf das <em>i</em>.",settings_perma:"Dauerhaft aktivieren und Daten&uuml;ber&shy;tragung zustimmen:",cookie_path:"/",cookie_domain:document.location.host,cookie_expires:"365",css_path:"/stylesheets/frontend/socialshareprivacy.css",uri:n},l=e.extend(!0,r,i),c="on"===l.services.facebook.status,f="on"===l.services.twitter.status,m="on"===l.services.gplus.status;if(c||f||m){l.css_path.length>0&&e("head").append('<link rel="stylesheet" type="text/css" href="'+l.css_path+'" />'),e(this).prepend('<ul class="social_share_privacy_area"></ul>');var p=e(".social_share_privacy_area",this),d=l.uri;return"function"==typeof d&&(d=d()),this.each(function(){if(c){var i=encodeURIComponent(d+l.services.facebook.referrer_track),s='<iframe src="http://www.facebook.com/plugins/like.php?locale='+l.services.facebook.language+"&amp;href="+i+"&amp;send=false&amp;layout=button_count&amp;width=120&amp;show_faces=false&amp;action="+l.services.facebook.action+'&amp;colorscheme=light&amp;font&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:145px; height:21px;" allowTransparency="true"></iframe>',n='<img src="'+l.services.facebook.dummy_img+'" alt="Facebook &quot;Like&quot;-Dummy" class="fb_like_privacy_dummy" />';p.append('<li class="facebook help_info"><span class="info">'+l.services.facebook.txt_info+'</span><span class="switch off">'+l.services.facebook.txt_fb_off+'</span><div class="fb_like dummy_btn">'+n+"</div></li>");var r=e("li.facebook",p);e("li.facebook div.fb_like img.fb_like_privacy_dummy,li.facebook span.switch",p).live("click",function(){r.find("span.switch").hasClass("off")?(r.addClass("info_off"),r.find("span.switch").addClass("on").removeClass("off").html(l.services.facebook.txt_fb_on),r.find("img.fb_like_privacy_dummy").replaceWith(s)):(r.removeClass("info_off"),r.find("span.switch").addClass("off").removeClass("on").html(l.services.facebook.txt_fb_off),r.find(".fb_like").html(n))})}if(f){var u=l.services.twitter.tweet_text;"function"==typeof u&&(u=u()),u=t(u,"120");var _=encodeURIComponent(d+l.services.twitter.referrer_track),h=encodeURIComponent(d),v='<iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.html?url='+_+"&amp;counturl="+h+"&amp;text="+u+"&amp;count=horizontal&amp;lang="+l.services.twitter.language+'" style="width:130px; height:25px;"></iframe>',g='<img src="'+l.services.twitter.dummy_img+'" alt="&quot;Tweet this&quot;-Dummy" class="tweet_this_dummy" />';p.append('<li class="twitter help_info"><span class="info">'+l.services.twitter.txt_info+'</span><span class="switch off">'+l.services.twitter.txt_twitter_off+'</span><div class="tweet dummy_btn">'+g+"</div></li>");var w=e("li.twitter",p);e("li.twitter div.tweet img,li.twitter span.switch",p).live("click",function(){w.find("span.switch").hasClass("off")?(w.addClass("info_off"),w.find("span.switch").addClass("on").removeClass("off").html(l.services.twitter.txt_twitter_on),w.find("img.tweet_this_dummy").replaceWith(v)):(w.removeClass("info_off"),w.find("span.switch").addClass("off").removeClass("on").html(l.services.twitter.txt_twitter_off),w.find(".tweet").html(g))})}if(m){var k=d+l.services.gplus.referrer_track,b='<div class="g-plusone" data-size="medium" data-href="'+k+'"></div><script type="text/javascript">window.___gcfg = {lang: "'+l.services.gplus.language+'"}; (function() { var po = document.createElement("script"); po.type = "text/javascript"; po.async = true; po.src = "https://apis.google.com/js/plusone.js"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(po, s); })(); </script>',y='<img src="'+l.services.gplus.dummy_img+'" alt="&quot;Google+1&quot;-Dummy" class="gplus_one_dummy" />';p.append('<li class="gplus help_info"><span class="info">'+l.services.gplus.txt_info+'</span><span class="switch off">'+l.services.gplus.txt_gplus_off+'</span><div class="gplusone dummy_btn">'+y+"</div></li>");var x=e("li.gplus",p);e("li.gplus div.gplusone img,li.gplus span.switch",p).live("click",function(){x.find("span.switch").hasClass("off")?(x.addClass("info_off"),x.find("span.switch").addClass("on").removeClass("off").html(l.services.gplus.txt_gplus_on),x.find("img.gplus_one_dummy").replaceWith(b)):(x.removeClass("info_off"),x.find("span.switch").addClass("off").removeClass("on").html(l.services.gplus.txt_gplus_off),x.find(".gplusone").html(y))})}p.append('<li class="settings_info"><div class="settings_info_menu off perma_option_off"><a href="'+l.info_link+'"><span class="help_info icon"><span class="info">'+l.txt_help+"</span></span></a></div></li>"),e(".help_info:not(.info_off)",p).live("mouseenter",function(){var t=e(this),i=window.setTimeout(function(){e(t).addClass("display")},500);e(this).data("timeout_id",i)}),e(".help_info",p).live("mouseleave",function(){var t=e(this).data("timeout_id");window.clearTimeout(t),e(this).hasClass("display")&&e(this).removeClass("display")});var C="on"===l.services.facebook.perma_option,S="on"===l.services.twitter.perma_option,D="on"===l.services.gplus.perma_option;if((c&&C||f&&S||m&&D)&&(!e.browser.msie||e.browser.msie&&e.browser.version>7)){for(var T=document.cookie.split(";"),I="{",E=0;E<T.length;E+=1){var U=T[E].split("=");I+='"'+e.trim(U[0])+'":"'+e.trim(U[1])+'"',E<T.length-1&&(I+=",")}I+="}",I=JSON.parse(I);var P=e("li.settings_info",p);P.find(".settings_info_menu").removeClass("perma_option_off"),P.find(".settings_info_menu").append('<span class="settings">Einstellungen</span><form><fieldset><legend>'+l.settings_perma+"</legend></fieldset></form>");var z=' checked="checked"';if(c&&C){var F="perma_on"===I.socialSharePrivacy_facebook?z:"";P.find("form fieldset").append('<input type="checkbox" name="perma_status_facebook" id="perma_status_facebook"'+F+' /><label for="perma_status_facebook">'+l.services.facebook.display_name+"</label>")}if(f&&S){var q="perma_on"===I.socialSharePrivacy_twitter?z:"";P.find("form fieldset").append('<input type="checkbox" name="perma_status_twitter" id="perma_status_twitter"'+q+' /><label for="perma_status_twitter">'+l.services.twitter.display_name+"</label>")}if(m&&D){var G="perma_on"===I.socialSharePrivacy_gplus?z:"";P.find("form fieldset").append('<input type="checkbox" name="perma_status_gplus" id="perma_status_gplus"'+G+' /><label for="perma_status_gplus">'+l.services.gplus.display_name+"</label>")}P.find("span.settings").css("cursor","pointer"),e(P.find("span.settings"),p).live("mouseenter",function(){var t=window.setTimeout(function(){P.find(".settings_info_menu").removeClass("off").addClass("on")},500);e(this).data("timeout_id",t)}),e(P,p).live("mouseleave",function(){var t=e(this).data("timeout_id");window.clearTimeout(t),P.find(".settings_info_menu").removeClass("on").addClass("off")}),e(P.find("fieldset input")).live("click",function(t){var i=t.target.id,s=i.substr(i.lastIndexOf("_")+1,i.length),n="socialSharePrivacy_"+s;e("#"+t.target.id+":checked").length?(a(n,"perma_on",l.cookie_expires,l.cookie_path,l.cookie_domain),e("form fieldset label[for="+i+"]",p).addClass("checked")):(o(n,"perma_on",l.cookie_path,l.cookie_domain),e("form fieldset label[for="+i+"]",p).removeClass("checked"))}),c&&C&&"perma_on"===I.socialSharePrivacy_facebook&&e("li.facebook span.switch",p).click(),f&&S&&"perma_on"===I.socialSharePrivacy_twitter&&e("li.twitter span.switch",p).click(),m&&D&&"perma_on"===I.socialSharePrivacy_gplus&&e("li.gplus span.switch",p).click()}})}}}(jQuery);
